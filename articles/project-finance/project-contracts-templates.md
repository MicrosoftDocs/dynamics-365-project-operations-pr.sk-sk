---
title: Synchronizácia projektových zmlúv a projektov priamo z Project Service Automation do Finance and Operations
description: Táto téma popisuje šablónu a základnú úlohy, ktoré sa používajú na synchronizáciu projektových zmlúv a projektov priamo z Microsoft Dynamics 365 Project Service Automation do Dynamics 365 Finance.
author: KimANelson
manager: AnnBe
ms.date: 09/09/2019
ms.topic: article
ms.prod: ''
ms.service: dynamics-ax-applications
ms.technology: ''
audience: Application User
ms.reviewer: josaw
ms.search.scope: Core, Operations
ms.custom: 87983
ms.assetid: 57fe4ae8-6ee9-442d-9933-d525b5415db8
ms.search.region: Global
ms.author: knelson
ms.search.validFrom: 2017-12-13
ms.dyn365.ops.version: AX 7.3.0
ms.openlocfilehash: b914a56b306639253a8cd3b7caa754da175b6df2
ms.sourcegitcommit: 8c786230ef2a497280885b827162561776e2eb00
ms.translationtype: HT
ms.contentlocale: sk-SK
ms.lasthandoff: 03/24/2020
ms.locfileid: "3755536"
---
# <a name="synchronize-project-contracts-and-projects-directly-from-project-service-automation-to-finance-and-operations"></a><span data-ttu-id="d8ce0-103">Synchronizácia projektových zmlúv a projektov priamo z Project Service Automation do Finance and Operations</span><span class="sxs-lookup"><span data-stu-id="d8ce0-103">Synchronize project contracts and projects directly from Project Service Automation to Finance and Operations</span></span>

[!include[banner](../includes/banner.md)]

<span data-ttu-id="d8ce0-104">Táto téma popisuje šablónu a základnú úlohy, ktoré sa používajú na synchronizáciu projektových zmlúv a projektov priamo z Dynamics 365 Project Service Automation do Dynamics 365 Finance.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-104">This topic describes the template and underlying tasks that are used to synchronize project contracts and projects directly from Dynamics 365 Project Service Automation to Dynamics 365 Finance.</span></span>

> [!NOTE] 
> <span data-ttu-id="d8ce0-105">Ak používate Enterprise edition 7.3.0, musíte nainštalovať KB 4074835.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-105">If you're using Enterprise edition 7.3.0, you must install KB 4074835.</span></span>

## <a name="data-flow-for-project-service-automation-to-finance"></a><span data-ttu-id="d8ce0-106">Tok údajov pre Project Service Automation do Finance</span><span class="sxs-lookup"><span data-stu-id="d8ce0-106">Data flow for Project Service Automation to Finance</span></span>

> [!NOTE]
> <span data-ttu-id="d8ce0-107">Predtým, ako budete môcť použiť riešenie integrácie Project Service Automation do Finance, mali by ste byť oboznámení s funkciou integrácie údajov Dynamics 365.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-107">Before you can use the Project Service Automation to Finance integration solution, you should be familiar with the Dynamics 365 Data integration feature.</span></span>

<span data-ttu-id="d8ce0-108">Integračné riešenie Project Service Automation do služby Finance využíva funkciu Integrácia údajov na synchronizáciu údajov naprieč inštanciami Project Service Automation a Finance.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-108">The Project Service Automation to Finance integration solution uses the Data integration feature to synchronize data across instances of Project Service Automation and Finance.</span></span> <span data-ttu-id="d8ce0-109">Integračná šablóna, ktorá je k dispozícii s funkciou Integrácia údajov, umožňuje tok údajov projektových zmlúv, projektov, riadkov projektových zmlúv, medzníkov riadkov projektových zmlúv, projektových úloh, kategórií transakcií výdavkov, odhadov hodín a odhadov výdavkov z Project Service Automation do Finance.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-109">The integration template that is available with the Data integration feature enables the flow of data about project contracts, projects, project contract lines, and project contract line milestones from Project Service Automation to Finance.</span></span>

<span data-ttu-id="d8ce0-110">Nasledujúca ilustrácia ukazuje, ako sa synchronizujú údaje medzi Project Service Automation a Finance.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-110">The following illustration shows how the data is synchronized between Project Service Automation and Finance.</span></span>

<span data-ttu-id="d8ce0-111">[![Tok údajov pre integráciu Project Service Automation s Finance](./media/ProjectsAndContractsFlow_upd.JPG)](./media/ProjectsAndContractsFlow.JPG)</span><span class="sxs-lookup"><span data-stu-id="d8ce0-111">[![Data flow for Project Service Automation integration with Finance](./media/ProjectsAndContractsFlow_upd.JPG)](./media/ProjectsAndContractsFlow.JPG)</span></span>

## <a name="templates-and-tasks"></a><span data-ttu-id="d8ce0-112">Šablóny a úlohy</span><span class="sxs-lookup"><span data-stu-id="d8ce0-112">Templates and tasks</span></span>

<span data-ttu-id="d8ce0-113">Dostupné šablóny nájdete v zozname centrum správcu Microsoft Power Apps, zvoľte možnosť **Projekty** a potom v pravom hornom rohu vyberte možnosť **Nový projekt**, kde si vyberiete verejné šablóny.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-113">To access the available templates, in the Microsoft Power Apps admin center, select **Projects**, and then, in the upper-right corner, select **New project** to select public templates.</span></span>

<span data-ttu-id="d8ce0-114">Nasledujúca šablóny a základné úlohy sa používajú na synchronizáciu projektový zmlúv a projektov z Project Service Automation do Finance:</span><span class="sxs-lookup"><span data-stu-id="d8ce0-114">The following templates and underlying tasks are used to synchronize project contracts and projects from Project Service Automation to Finance:</span></span>

### <a name="integrating-with-dynamics-365-project-service-automation-v2x"></a><span data-ttu-id="d8ce0-115">Integrácia s Dynamics 365 Project Service Automation v2.x</span><span class="sxs-lookup"><span data-stu-id="d8ce0-115">Integrating with Dynamics 365 Project Service Automation v2.x</span></span>
- <span data-ttu-id="d8ce0-116">**Názov šablóny v časti Integrácia údajov:** Projekty a zmluvy (PSA do Fin a Ops)</span><span class="sxs-lookup"><span data-stu-id="d8ce0-116">**Name of the template in Data integration:** Projects and contracts (PSA to Fin and Ops)</span></span>
- <span data-ttu-id="d8ce0-117">**Názov úloh v projekte:**</span><span class="sxs-lookup"><span data-stu-id="d8ce0-117">**Name of the tasks in the project:**</span></span>

    - <span data-ttu-id="d8ce0-118">Projektové zmluvy PSA s Fin a Ops</span><span class="sxs-lookup"><span data-stu-id="d8ce0-118">Project contracts PSA to Fin and Ops</span></span>
    - <span data-ttu-id="d8ce0-119">Projektové PSA s Fin a Ops</span><span class="sxs-lookup"><span data-stu-id="d8ce0-119">Projects PSA to Fin and Ops</span></span>
    - <span data-ttu-id="d8ce0-120">Projektové riadky zmluvy PSA s Fin a Ops</span><span class="sxs-lookup"><span data-stu-id="d8ce0-120">Project contract lines PSA to Fin and Ops</span></span>
    - <span data-ttu-id="d8ce0-121">Míľniky projektových riadkov zmluvy PSA s Fin a Ops</span><span class="sxs-lookup"><span data-stu-id="d8ce0-121">Project contract line milestones PSA to Fin and Ops</span></span>
  
### <a name="integrating-with-dynamics-365-project-service-automation-v3x"></a><span data-ttu-id="d8ce0-122">Integrácia s Dynamics 365 Project Service Automation v3.x</span><span class="sxs-lookup"><span data-stu-id="d8ce0-122">Integrating with Dynamics 365 Project Service Automation v3.x</span></span>
<span data-ttu-id="d8ce0-123">V Project Service Automation nastala zmena schémy, ktorá ovplyvní šablónu medzníka riadku zmluvy s projektom a na integráciu Project Service Automation v3.x s Dynamics 365 je potrebné použitie verzie šablóny v2.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-123">There is a schema change in Project Service Automation that impacts the Project contract line milestone template and use of the v2 version of the template is required to integrate Project Service Automation v3.x with Dynamics 365.</span></span>

- <span data-ttu-id="d8ce0-124">**Názov šablóny v časti Integrácia údajov:** Projekty a Zmluvy (PSA 3.x do Fin a Ops) – v2</span><span class="sxs-lookup"><span data-stu-id="d8ce0-124">**Name of the template in Data integration:** Projects and Contracts (PSA 3.x to Fin and Ops) - v2</span></span>
- <span data-ttu-id="d8ce0-125">**Názov úloh v projekte:**</span><span class="sxs-lookup"><span data-stu-id="d8ce0-125">**Name of the tasks in the project:**</span></span>

    - <span data-ttu-id="d8ce0-126">Projektové zmluvy PSA s Fin a Ops</span><span class="sxs-lookup"><span data-stu-id="d8ce0-126">Project contracts PSA to Fin and Ops</span></span>
    - <span data-ttu-id="d8ce0-127">Projektové PSA s Fin a Ops</span><span class="sxs-lookup"><span data-stu-id="d8ce0-127">Projects PSA to Fin and Ops</span></span>
    - <span data-ttu-id="d8ce0-128">Projektové riadky zmluvy PSA s Fin a Ops</span><span class="sxs-lookup"><span data-stu-id="d8ce0-128">Project contract lines PSA to Fin and Ops</span></span>
    - <span data-ttu-id="d8ce0-129">Míľniky projektových riadkov zmluvy PSA s Fin a Ops</span><span class="sxs-lookup"><span data-stu-id="d8ce0-129">Project contract line milestones PSA to Fin and Ops</span></span>

<span data-ttu-id="d8ce0-130">Predtým, ako môže dôjsť k synchronizácii zmlúv a projektov, musíte synchronizovať účty.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-130">Before synchronization of project contracts and projects can occur, you must synchronize accounts.</span></span>

## <a name="entity-set"></a><span data-ttu-id="d8ce0-131">Nastavenie entity</span><span class="sxs-lookup"><span data-stu-id="d8ce0-131">Entity set</span></span>

| <span data-ttu-id="d8ce0-132">Project Service Automation</span><span class="sxs-lookup"><span data-stu-id="d8ce0-132">Project Service Automation</span></span>       | <span data-ttu-id="d8ce0-133">Finance</span><span class="sxs-lookup"><span data-stu-id="d8ce0-133">Finance</span></span>                                                |
|----------------------------------|--------------------------------------------------------|
| <span data-ttu-id="d8ce0-134">Objednávky</span><span class="sxs-lookup"><span data-stu-id="d8ce0-134">Orders</span></span>                           | <span data-ttu-id="d8ce0-135">Integračná entita pre projektovú zmluvu</span><span class="sxs-lookup"><span data-stu-id="d8ce0-135">Integration entity for project contract</span></span>                |
| <span data-ttu-id="d8ce0-136">Projekty</span><span class="sxs-lookup"><span data-stu-id="d8ce0-136">Projects</span></span>                         | <span data-ttu-id="d8ce0-137">Integračná entita pre projekt</span><span class="sxs-lookup"><span data-stu-id="d8ce0-137">Integration entity for project</span></span>                         |
| <span data-ttu-id="d8ce0-138">Riadky objednávok</span><span class="sxs-lookup"><span data-stu-id="d8ce0-138">Order lines</span></span>                      | <span data-ttu-id="d8ce0-139">Integračná entita pre riadok projektovej zmluvy</span><span class="sxs-lookup"><span data-stu-id="d8ce0-139">Integration entity for project contract line</span></span>           |
| <span data-ttu-id="d8ce0-140">Medzníky v riadkoch projektovej zmluvy</span><span class="sxs-lookup"><span data-stu-id="d8ce0-140">Project contract line milestones</span></span> | <span data-ttu-id="d8ce0-141">Integračná entita pre medzník riadka projektovej zmluvy</span><span class="sxs-lookup"><span data-stu-id="d8ce0-141">Integration entity for project contract line milestone</span></span> |

## <a name="entity-flow"></a><span data-ttu-id="d8ce0-142">Tok entity</span><span class="sxs-lookup"><span data-stu-id="d8ce0-142">Entity flow</span></span>

<span data-ttu-id="d8ce0-143">Projektové zmluvy sa spravujú v Project Service Automation a synchronizujú s Finance ako projektové zmluvy.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-143">Project contracts are managed in Project Service Automation, and they are synchronized to Finance as project contracts.</span></span> <span data-ttu-id="d8ce0-144">Ako súčasť šablóny integrácie môžete nastaviť zdroj integrácie v časti Finance pre zmluvu o projekte.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-144">As part of the integration template, you can set the integration source in Finance for the project contract.</span></span>

<span data-ttu-id="d8ce0-145">Čas a materiál projektu a pevná cena projektov sa spravuje v Project Service Automation a synchronizuje sa s Finance ako projekty.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-145">Time and material project and Fixed price projects are managed in Project Service Automation, and they are synchronized to Finance as projects.</span></span> <span data-ttu-id="d8ce0-146">Ako súčasť šablóny integrácie môžete nastaviť zdroj integrácie v časti Finance pre projekt.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-146">As part of the template integration, you can set the integration source in Finance for the project.</span></span>

<span data-ttu-id="d8ce0-147">Projektové riadky zmlúv sa spravujú v Project Service Automation a synchronizujú s Finance ako projektové zmluvné pravidlá fakturácie.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-147">Project contract lines are managed in Project Service Automation, and they are synchronized to Finance as project contract billing rules.</span></span> <span data-ttu-id="d8ce0-148">Ak sa spôsob fakturácie líši od predvoleného typu projektu, synchronizácia aktualizuje typ projektu pre riadok zmluvy projektu a projektovú skupinu.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-148">If the billing method differs from the default project type, the synchronization updates the project type for the contract line project and project group.</span></span>

<span data-ttu-id="d8ce0-149">Projektové medzníky riadka zmlúv sa spravujú v Project Service Automation a synchronizujú sa s Finance ako projektové medzníky zmluvných pravidiel fakturácie.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-149">Project contract line milestones are managed in Project Service Automation, and they are synchronized to Finance as project contract billing rule milestones.</span></span>

## <a name="project-service-automation-to-finance-integration-solution"></a><span data-ttu-id="d8ce0-150">Integrácia riešenia Project Service Automation do Finance</span><span class="sxs-lookup"><span data-stu-id="d8ce0-150">Project Service Automation to Finance integration solution</span></span>

<span data-ttu-id="d8ce0-151">Pole **ID projektovej zmluvy** je k dispozícii na stránke **Zmluvy o projekte**.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-151">The **Project contract ID** field is available on the **Project contracts** page.</span></span> <span data-ttu-id="d8ce0-152">Táto oblasť sa stala prirodzeným a jedinečným kľúčom na podporu integrácie.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-152">This field has been made a natural and unique key to support the integration.</span></span>

<span data-ttu-id="d8ce0-153">Pri vzniku novej zmluvy o projekte, ak hodnota **ID projektovej zmluvy** ešte neexistuje, automaticky sa generuje pomocou číselnej postupnosti.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-153">When a new project contract is created, if a **Project contract ID** value doesn't already exist, it's automatically generated by using a number sequence.</span></span> <span data-ttu-id="d8ce0-154">Hodnota sa skladá z **ORD** a nasleduje prírastková číselná sekvencia a potom prípona šiestich znakov.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-154">The value consists of **ORD** followed by an incrementing number sequence and then a suffix of six characters.</span></span> <span data-ttu-id="d8ce0-155">Príklad: **ORD-01022-Z4M9Q0**.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-155">Here is an example: **ORD-01022-Z4M9Q0**.</span></span>

<span data-ttu-id="d8ce0-156">Pole **Číslo projektu** je k dispozícii na stránke **Projekty**.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-156">The **Project Number** field is available on the **Projects** page.</span></span> <span data-ttu-id="d8ce0-157">Táto oblasť sa stala prirodzeným a jedinečným kľúčom na podporu integrácie.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-157">This field has been made a natural and unique key to support the integration.</span></span>

<span data-ttu-id="d8ce0-158">Pri vzniku nového projektu, ak hodnota **Číslo projektu** ešte neexistuje, automaticky sa generuje pomocou číselnej postupnosti.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-158">When a new project is created, if a **Project Number** value doesn't already exist, it's automatically generated by using a number sequence.</span></span> <span data-ttu-id="d8ce0-159">Hodnota sa skladá z **PRJ** a nasleduje prírastková číselná sekvencia a potom prípona šiestich znakov.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-159">The value consists of **PRJ** followed by an incrementing number sequence and then a suffix of six characters.</span></span> <span data-ttu-id="d8ce0-160">Príklad: **PRJ-01049-CCNID0**.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-160">Here is an example: **PRJ-01049-CCNID0**.</span></span>

<span data-ttu-id="d8ce0-161">Keď sa použije integračné riešenie Project Service Automation to Finance, inovačný skript nastaví hodnotu poľa **ID projektovej zmluvy** pre existujúce projektové zmluvy a pole **Číslo projektu** pre existujúce projekty v Project Service Automation.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-161">When the Project Service Automation to Finance integration solution is applied, an upgrade script sets the **Project contract ID** field for existing project contracts and the **Project Number** field for existing projects in Project Service Automation.</span></span>

## <a name="prerequisites-and-mapping-setup"></a><span data-ttu-id="d8ce0-162">Nevyhnutné predpoklady a nastavenie mapovania</span><span class="sxs-lookup"><span data-stu-id="d8ce0-162">Prerequisites and mapping setup</span></span>

- <span data-ttu-id="d8ce0-163">Predtým, ako môže dôjsť k synchronizácii zmlúv a projektov, musíte synchronizovať účty.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-163">Before synchronization of project contracts and projects can occur, you must synchronize accounts.</span></span>
- <span data-ttu-id="d8ce0-164">Do svojej skupiny pripojení pridajte mapovanie poľa integračného kľúča pre **msdyn\_organizationalunits** na **msdyn\_name\[Name\]**.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-164">In your connection set, add an integration key field mapping for **msdyn\_organizationalunits** to **msdyn\_name \[Name\]**.</span></span> <span data-ttu-id="d8ce0-165">Možno bude najskôr potrebné pridať projekt do súpravy pripojení.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-165">You might first need to add a project to the connection set.</span></span> <span data-ttu-id="d8ce0-166">Ďalšie informácie nájdete v časti [Integrácia údajov do Common Data Service pre aplikácie](https://docs.microsoft.com/powerapps/administrator/data-integrator).</span><span class="sxs-lookup"><span data-stu-id="d8ce0-166">For more information, see [Integrate data into Common Data Service for Apps](https://docs.microsoft.com/powerapps/administrator/data-integrator).</span></span>
- <span data-ttu-id="d8ce0-167">Do svojej skupiny pripojení pridajte mapovanie poľa integračného kľúča pre **msdyn\_projects** na **msdynce\_projectnumber\[Project Number\]**.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-167">In your connection set, add an integration key field mapping for **msdyn\_projects** to **msdynce\_projectnumber \[Project Number\]**.</span></span> <span data-ttu-id="d8ce0-168">Možno bude najskôr potrebné pridať projekt do súpravy pripojení.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-168">You might first need to add a project to the connection set.</span></span> <span data-ttu-id="d8ce0-169">Ďalšie informácie nájdete v časti [Integrácia údajov do Common Data Service pre aplikácie](https://docs.microsoft.com/powerapps/administrator/data-integrator).</span><span class="sxs-lookup"><span data-stu-id="d8ce0-169">For more information, see [Integrate data into Common Data Service for Apps](https://docs.microsoft.com/powerapps/administrator/data-integrator).</span></span>
- <span data-ttu-id="d8ce0-170">**SourceDataID** pre projektové zmluvy a projekty je možné aktualizovať na inú hodnotu alebo odstrániť z mapovania.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-170">**SourceDataID** for project contracts and projects can be updated to a different value or removed from the mapping.</span></span> <span data-ttu-id="d8ce0-171">Predvolená hodnota šablóny je **Project Service Automation**.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-171">The default template value is **Project Service Automation**.</span></span>
- <span data-ttu-id="d8ce0-172">Mapovanie **PaymentTerms** musí byť aktualizované tak, aby odrážalo platné platobné podmienky v službe Finance.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-172">The **PaymentTerms** mapping must be updated so that it reflects valid terms of payment in Finance.</span></span> <span data-ttu-id="d8ce0-173">Môžete tiež odstrániť mapovanie z projektovej úlohy.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-173">You can also remove the mapping from the project task.</span></span> <span data-ttu-id="d8ce0-174">Mapa predvolených hodnôt má predvolené hodnoty pre ukážkové údaje.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-174">The default value map has default values for demo data.</span></span> <span data-ttu-id="d8ce0-175">Nasledujúca tabuľka zobrazuje hodnoty v Project Service Automation.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-175">The following table shows the values in Project Service Automation.</span></span>

    | <span data-ttu-id="d8ce0-176">Hodnota</span><span class="sxs-lookup"><span data-stu-id="d8ce0-176">Value</span></span> | <span data-ttu-id="d8ce0-177">Popis</span><span class="sxs-lookup"><span data-stu-id="d8ce0-177">Description</span></span>   |
    |-------|---------------|
    | <span data-ttu-id="d8ce0-178">1</span><span class="sxs-lookup"><span data-stu-id="d8ce0-178">1</span></span>     | <span data-ttu-id="d8ce0-179">30 dní netto</span><span class="sxs-lookup"><span data-stu-id="d8ce0-179">Net 30</span></span>        |
    | <span data-ttu-id="d8ce0-180">2</span><span class="sxs-lookup"><span data-stu-id="d8ce0-180">2</span></span>     | <span data-ttu-id="d8ce0-181">10 dní so zľavou 2 %, inak 30 dní netto</span><span class="sxs-lookup"><span data-stu-id="d8ce0-181">2% 10, Net 30</span></span> |
    | <span data-ttu-id="d8ce0-182">3</span><span class="sxs-lookup"><span data-stu-id="d8ce0-182">3</span></span>     | <span data-ttu-id="d8ce0-183">45 dní netto</span><span class="sxs-lookup"><span data-stu-id="d8ce0-183">Net 45</span></span>        |
    | <span data-ttu-id="d8ce0-184">4</span><span class="sxs-lookup"><span data-stu-id="d8ce0-184">4</span></span>     | <span data-ttu-id="d8ce0-185">60 dní netto</span><span class="sxs-lookup"><span data-stu-id="d8ce0-185">Net 60</span></span>        |

## <a name="power-query"></a><span data-ttu-id="d8ce0-186">Power Query</span><span class="sxs-lookup"><span data-stu-id="d8ce0-186">Power Query</span></span>

<span data-ttu-id="d8ce0-187">Ak je táto podmienka splnená, na filtrovanie údajov musia byť splnené nasledujúce podmienky:</span><span class="sxs-lookup"><span data-stu-id="d8ce0-187">You must use Microsoft Power Query for Excel to filter data if the following conditions are met:</span></span>

- <span data-ttu-id="d8ce0-188">Predajné objednávky nájdete v Dynamics 365 Sales.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-188">You have sales orders in Dynamics 365 Sales.</span></span>
- <span data-ttu-id="d8ce0-189">V službe Project Service Automation máte viac organizačných jednotiek a tieto organizačné jednotky budú namapované na viaceré právnické osoby v službe Finance.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-189">You have multiple organizational units in Project Service Automation, and these organizational units will be mapped to multiple legal entities in Finance.</span></span>

<span data-ttu-id="d8ce0-190">Ak musíte použiť Power Query, postupujte podľa týchto pokynov:</span><span class="sxs-lookup"><span data-stu-id="d8ce0-190">If you must use Power Query, follow these guidelines:</span></span>

- <span data-ttu-id="d8ce0-191">Šablóna Projekty a zmluvy (PSA pre Fin a Ops) má predvolený filter, ktorý obsahuje iba predajné objednávky **Pracovná položka typu (msdyn\_ordertype = 192350001)**.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-191">The Projects and contracts (PSA to Fin and Ops) template has a default filter that includes only sales orders of the **Work item (msdyn\_ordertype = 192350001)** type.</span></span> <span data-ttu-id="d8ce0-192">Tento filter pomáha zaručiť, že sa pre zákazky odberateľa v službe Finance nevytvoria projektové zmluvy.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-192">This filter helps guarantee that project contracts aren't created for sales orders in Finance.</span></span> <span data-ttu-id="d8ce0-193">Ak vytvárate vlastnú šablónu, musíte pridať tento filter.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-193">If you create your own template, you must add this filter.</span></span>
- <span data-ttu-id="d8ce0-194">Musíte vytvoriť filter Power Query, ktorý obsahuje iba zmluvné organizácie, ktoré by sa mali synchronizovať s právnickou osobou sady integračných pripojení.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-194">You must create a Power Query filter that includes only the contract organizations that should be synchronized to the legal entity of the integration connection set.</span></span> <span data-ttu-id="d8ce0-195">Napríklad projektové zmluvy, ktoré máte so zmluvnou organizačnou jednotkou spoločnosti Contoso USA, by sa mali synchronizovať s právnickou osobou USSI, ale projektové zmluvy, ktoré máte so zmluvnou organizačnou jednotkou spoločnosti Contoso Global, by sa mali synchronizovať s právnickou osobou USMF.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-195">For example, project contracts that you have with the contract organizational unit of Contoso US should be synchronized to the USSI legal entity, but project contracts that you have with the contract organizational unit of Contoso Global should be synchronized to the USMF legal entity.</span></span> <span data-ttu-id="d8ce0-196">Ak tento filter nepridáte do svojho mapovania úloh, všetky kontrakty projektu sa synchronizujú s právnickou osobou, ktorá je definovaná pre množinu pripojení, bez ohľadu na organizačnú jednotku kontraktu.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-196">If you don't add this filter to your task mapping, all project contracts will be synchronized to the legal entity that is defined for the connection set, regardless of the contract organizational unit.</span></span>

## <a name="template-mapping-in-data-integration"></a><span data-ttu-id="d8ce0-197">Mapovanie šablón v integrácii údajov</span><span class="sxs-lookup"><span data-stu-id="d8ce0-197">Template mapping in Data integration</span></span>

> [!NOTE] 
> <span data-ttu-id="d8ce0-198">Polia **CustomerReference**, **AddressCity**, **AddressCountryRegionID**, **AddressDescription**, **AddressLine1**, **AddressLine2**, **AddressState** a **AddressZipCode** nie sú súčasťou predvoleného mapovania pre projektové zmluvy.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-198">The **CustomerReference**, **AddressCity**, **AddressCountryRegionID**, **AddressDescription**, **AddressLine1**, **AddressLine2**, **AddressState**, and **AddressZipCode** fields aren't included in the default mapping for project contracts.</span></span> <span data-ttu-id="d8ce0-199">Ak chcete, aby sa tieto údaje synchronizovali pre zmluvy o projekte, môžete pridať priradenia.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-199">You can add the mappings if you require that this data be synchronized for project contracts.</span></span>
>
> <span data-ttu-id="d8ce0-200">Polia **Description**, **ParentID**, **ProjectGroup**, **ProjectManagerPersonnelNumber** a **ProjectType** nie sú zahrnuté v predvolenom mapovaní pre projekty.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-200">The **Description**, **ParentID**, **ProjectGroup**, **ProjectManagerPersonnelNumber**, and **ProjectType** fields aren't included in the default mapping for projects.</span></span> <span data-ttu-id="d8ce0-201">Ak chcete, aby sa tieto údaje synchronizovali pre zmluvy o projekte, môžete synchronizovať pre projekty.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-201">You can add the mappings if you require that this data be synchronized for projects.</span></span>

<span data-ttu-id="d8ce0-202">Nasledujúca ilustrácia ukazuje príklady mapovania úlohy šablóny v Integrácii údajov.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-202">The following illustrations show examples of the template task mappings in Data integration.</span></span> <span data-ttu-id="d8ce0-203">Mapovanie zobrazuje informácie o poli, ktoré sa budú synchronizovať z Project Service Automation do Finance.</span><span class="sxs-lookup"><span data-stu-id="d8ce0-203">The mapping shows the field information that will be synchronized from Project Service Automation to Finance.</span></span>

<span data-ttu-id="d8ce0-204">[![Mapovanie šablón](./media/ProjectContractTemplateMapping.JPG)](./media/ProjectContractTemplateMapping.JPG)</span><span class="sxs-lookup"><span data-stu-id="d8ce0-204">[![Template mapping](./media/ProjectContractTemplateMapping.JPG)](./media/ProjectContractTemplateMapping.JPG)</span></span>

<span data-ttu-id="d8ce0-205">[![Mapovanie šablón](./media/ProjectTemplateMapping.JPG)](./media/ProjectTemplateMapping.JPG)</span><span class="sxs-lookup"><span data-stu-id="d8ce0-205">[![Template mapping](./media/ProjectTemplateMapping.JPG)](./media/ProjectTemplateMapping.JPG)</span></span>

<span data-ttu-id="d8ce0-206">[![Mapovanie šablón](./media/ProjectContractLinesMapping.JPG)](./media/ProjectContractLinesMapping.JPG)</span><span class="sxs-lookup"><span data-stu-id="d8ce0-206">[![Template mapping](./media/ProjectContractLinesMapping.JPG)](./media/ProjectContractLinesMapping.JPG)</span></span>

<span data-ttu-id="d8ce0-207">[![Mapovanie šablón](./media/ProjectContractLineMilestonesMapping.JPG)](./media/ProjectContractLineMilestonesMapping.JPG)</span><span class="sxs-lookup"><span data-stu-id="d8ce0-207">[![Template mapping](./media/ProjectContractLineMilestonesMapping.JPG)](./media/ProjectContractLineMilestonesMapping.JPG)</span></span>

#### <a name="project-contract-line-milestone-mapping-in-the-projects-and-contracts-psa-3x-to-dynamics---v2-template"></a><span data-ttu-id="d8ce0-208">Mapovanie medzníkov linky kontraktov v projektoch a kontraktoch (PSA 3.x až Dynamics) - šablóna v2:</span><span class="sxs-lookup"><span data-stu-id="d8ce0-208">Project contract line milestone mapping in the Projects and Contracts (PSA 3.x to Dynamics) - v2 template:</span></span>

<span data-ttu-id="d8ce0-209">[![Mapovanie šablón](./media/ProjectContractLineMilestoneMapping_v2.jpg)](./media/ProjectContractLineMilestoneMapping_v2.jpg)</span><span class="sxs-lookup"><span data-stu-id="d8ce0-209">[![Template mapping](./media/ProjectContractLineMilestoneMapping_v2.jpg)](./media/ProjectContractLineMilestoneMapping_v2.jpg)</span></span>
